"use strict";var weatherApp=angular.module("christoffee.Weatherapp",["ngRoute","ngResource"]);weatherApp.constant("version","v0.1.0"),weatherApp.config(["$locationProvider","$routeProvider",function(a,b){a.html5Mode(!1),b.when("/",{templateUrl:"views/home.html"}).when("/weather",{templateUrl:"views/weather.html"}).otherwise({redirectTo:"/"})}]),weatherApp.controller("WeatherAppCtrl",["$scope","Post",function(a,b){a.noResults=!1,a.userSearchText="",a.data={},a.recentData={},a.updateSearch=function(c){b.query({q:c,format:"json"},{},function(b){a.data=b,a.noResults=!b.query.count,1!==b.query.count||b.query.results.channel||(a.setLocation(),a.getWeather())})},a.setLocation=function(b){a.weatherLocation=b,a.updateSearch(a.getWeather())},a.clearData=function(){a.recentData=a.data,a.data={}},a.getWeather=function(){return a.recentData={},this.weatherLocation=a.weatherLocation||44418,"select item from weather.forecast where woeid="+this.weatherLocation},a.searchLocations=function(){a.updateSearch(a.getLocations())},a.getLocations=function(){return'select * from geo.places where text="'+a.userSearchText+'"'}}]),weatherApp.factory("Post",["$resource",function(a){return a("http://query.yahooapis.com/v1/public/yql",{},{query:{method:"GET",isArray:!1}})}]);